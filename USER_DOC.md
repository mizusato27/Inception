# User documentation
## 目次
- [提供されるサービスの概要](#提供されるサービスの概要)
- [プロジェクトの起動と停止方法](#プロジェクトの起動と停止方法)
- [Webサイトおよび管理画面へのアクセス](#webサイトおよび管理画面へのアクセス)
- [認証情報の場所と管理](#認証情報の場所と管理)
- [サービスの稼働状況の確認](#サービスの稼働状況の確認)

## 提供されるサービスの概要
このインフラストラクチャ（スタック）は、以下の3つのコンテナサービスで構成されている 。

* NGINX: HTTPS（ポート443）での外部通信を受け付けるWebサーバー。TLS/SSL による暗号化通信を提供する。
* WordPress: PHP-FPM で動作する動的なWebアプリケーション。NGINX から渡されたリクエストを処理し、Web サイトを生成する。
* MariaDB: WordPress のデータを保存・管理するリレーショナルデータベースサーバー。

## プロジェクトの起動と停止方法
プロジェクトの起動と停止は、ルートディレクトリにある Makefile を使用して行う 。
* 起動: ターミナルで以下のコマンドを実行する。
  ```Bash
  make all
  ```
  ※ コンテナがバックグラウンドで起動し、サービスが利用可能になる。

* 停止: システムを安全に停止させる場合は以下のコマンドを実行する。
  ```Bash
  make down
  ```

## Webサイトおよび管理画面へのアクセス
サービス起動後、Webブラウザを使用して以下のURLからアクセスする 。
* Webサイト（フロントエンド）: https://login.42.fr
* 管理画面（バックエンド）: https://login.42.fr/wp-admin

> ※ 注意: 自己署名証明書を使用しているため、初回アクセス時にブラウザからセキュリティ警告（「この接続はプライベートではありません」等）が表示される。警告を無視してアクセスを続行することで表示される。

## 認証情報の場所と管理
システムで使用されるパスワードやユーザー名などの認証情報は、すべて1つの環境変数ファイルに集約されている 。
* ファイルの場所: `srcs/.env`
* 管理方法: データベースのパスワードや WordPress の管理者情報（`ADMIN_USER`、`ADMIN_PASSWORD`等）を変更する場合は、このファイルの値を直接編集する。変更を反映させるには、システムを再構築（`make build`）する必要がある。

## サービスの稼働状況の確認
各コンテナ（サービス）が正常に稼働しているかを確認するには、ターミナルで以下のコマンドを実行する 。
```Bash
docker ps
```
出力結果の `STATUS` 列が `Up` になっており、NGINXの `PORTS` に `443` が表示されていれば正常に稼働している。
